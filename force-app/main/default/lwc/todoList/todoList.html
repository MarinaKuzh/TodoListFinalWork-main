<template>
    <lightning-card title="Todo" icon-name="standard:note" > 
          <!-- Create SubTodo in modal -->
        <lightning-button
                        label="Create new Todo"
                        slot="actions"
                        class="slds-var-m-around_medium"
                        onclick={navigateToNewTodo}>
        </lightning-button>

       
           <template if:true={data}>
              
                    <lightning-input type = "search" 
                                     onchange = {handleSearchKeyChange} 
                                     class="slds-var-m-bottom_small"
                                     label = "Search" 
                                     variant="label-hidden"
                                     placeholder="Search for todos"
                                     value={searchKey}>  
                    </lightning-input> 
                   
               <lightning-datatable data={data}
                                    columns={columns}
                                    key-field="id"
                                    hide-checkbox-column
                                    onrowaction={callRowAction}
                                    onheaderaction={handleHeaderAction}
                                    sorted-by={sortedBy}
                                    sorted-direction={sortedDirection} onsort={sortColumns}
                ></lightning-datatable>
             
           <template if:false={data}>
               <div class="slds-text-color_error">
                An error occurred while loading the todo list
               </div>
           </template>
       
           </template>

   </lightning-card>   
</template>